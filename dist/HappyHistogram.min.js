/* HH v1.5  */ function HappyHistogram(a,i,e){var l,r,t=0,s=100,d="",y=0,n=0,v=0,c=0,o="#043864",p=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];for(null!=e&&(o=e),d+="<style>#"+a+" .filledBottom { background-color: "+o+";}</style>",n=0;n<i.length;n++)for(v=0;v<i[n].length;v++){if(Array.isArray(i[n][v]))if(Array.isArray(i[n][v][0])){for(tmpVal=0,i3=0;i3<i[n][v].length;i3++)tmpVal=i[n][v][i3][0]+tmpVal;val=tmpVal}else val=i[n][v][0];else val=i[n][v];val>y&&(y=val)}for(d+='<div class="yearHistogram"><div class="yAxisLabel">'+y+'</div><div class="yAxis">&nbsp;</div><div class="data">',n=0;n<i.length;n++){for(l=1/i[n].length*100,d+='<div class="month '+p[n]+'"><div class="chart">',v=0;v<i[n].length;v++){if(daysArray=[],Array.isArray(i[n][v])){if(void 0!==i[n][v][0])if(Array.isArray(i[n][v][0])){for(tmpVal=0,i3=0;i3<i[n][v].length;i3++)tmpVal=i[n][v][i3][0]+tmpVal,itemVal=i[n][v][i3][0],r=void 0!==i[n][v][i3][1]?i[n][v][i3][1]:"",daysArray.push([itemVal,r]);c=tmpVal}else c=i[n][v][0],r=void 0!==i[n][v][1]?i[n][v][1]:"",daysArray.push([c,r])}else c=i[n][v],daysArray.push([c,""]);if(c<0&&(c=0),c>0?s=100-(t=2*Math.ceil(c/y*100/2)):(t=0,s=100),d+='<div class="bar" style="width: '+l+'%"><div class="emptyTop" style="height: '+s+'%">&nbsp;</div>',1===daysArray.length)d+='<div class="filledBottom '+daysArray[0][1]+'" style="height: '+t+'%">&nbsp;</div>';else for(percentTotal=0,i4=0;i4<daysArray.length;i4++)percent=Math.ceil(daysArray[i4][0]/y*100),percentTotal+=percent,daysArray.length-1===i4&&percentTotal!==t&&(percent=Math.ceil(t-percentTotal+percent)),d+='<div class="filledBottom '+daysArray[i4][1]+'" style="height: '+percent+'%">&nbsp;</div>';d+="</div>"}d+='</div><div class="name">'+p[n]+"</div></div>"}d+='</div></div><br style="clear:both"/>',document.getElementById(a).innerHTML=d}